<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="PhotoGEA">
<title>Developing a Data Analysis Pipeline • PhotoGEA</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Developing a Data Analysis Pipeline">
<meta property="og:description" content="PhotoGEA">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    padding-top: 70px;

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PhotoGEA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/PhotoGEA.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/analyzing_ball_berry_data.html">Analyzing Ball-Berry Data</a>
    <a class="dropdown-item" href="../articles/analyzing_tdl_data.html">Analyzing TDL Data</a>
    <a class="dropdown-item" href="../articles/developing_a_data_analysis_pipeline.html">Developing a Data Analysis Pipeline</a>
    <a class="dropdown-item" href="../articles/working_with_extended_data_frames.html">Working With Extended Data Frames</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/eloch216/PhotoGEA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Developing a Data Analysis Pipeline</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/eloch216/PhotoGEA/blob/HEAD/vignettes/developing_a_data_analysis_pipeline.Rmd" class="external-link"><code>vignettes/developing_a_data_analysis_pipeline.Rmd</code></a></small>
      <div class="d-none name"><code>developing_a_data_analysis_pipeline.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The main purpose of the <code>PhotoGEA</code> package is to provide tools for creating a “data analysis pipeline” for photosynthetic gas exchange data. Although the base version of R coupled with popular packages like <code>lattice</code> and <code>ggplot2</code> provides an excellent set of general tools for data analysis, it is not specialized for gas exchange data, and using it for this purpose can sometimes be tedious because it usually requires writing various customized functions. <code>PhotoGEA</code> is designed to address these gaps by providing several specialized functions related to photosynthetic gas exchange data. By using these functions, you can spend more time extracting important information from your data and less time writing code.</p>
<p>In this vignette, we will describe the most important functions in <code>PhotoGEA</code> and how they relate to a general data workflow or “pipeline.” The description given here will be general, but more detailed examples can be found in the other vignettes such as <a href="analyzing_ball_berry_data.html">Analyzing Ball-Berry Data</a>. We will also discuss some general strategies for writing scripts that are customized for your own data and preferences.</p>
</div>
<div class="section level2">
<h2 id="key-steps-in-analyzing-data">Key Steps in Analyzing Data<a class="anchor" aria-label="anchor" href="#key-steps-in-analyzing-data"></a>
</h2>
<p>It is convenient to break up the process of “data analysis” into four key steps:</p>
<ul>
<li>
<em>Translation</em>: Converting data from its original state into a more convenient format that can be understood by a piece of analysis software.</li>
<li>
<em>Validation</em>: Ensuring the data meets basic requirements for quality and consistency.</li>
<li>
<em>Processing</em>: Performing operations to extract new information from the data such as calculating the values of new quantities or fitting curves.</li>
<li>
<em>Synthesis</em>: Drawing conclusions from the data, commonly done by applying statistical operations such as computing averages across groups or determining whether observed differences between groups are significant.</li>
</ul>
<p>A “data analysis pipeline” refers to a relatively simple and repeatable way to perform each of these steps on a set of data. In the following sections, we will explain how the <code>PhotoGEA</code> package, in conjunction with base R and a few other popular packages, can be used to accomplish each of these steps.</p>
<p><strong>Note</strong>: Documentation for any function mentioned in this vignette can be obtained through R’s built-in help system, which can be accessed using the <code>?</code> command. For example, to get more information about the <code>read_licor_file</code> function, type <code><a href="../reference/read_licor_file.html">?read_licor_file</a></code> in the R terminal.</p>
<div class="section level3">
<h3 id="translation">Translation<a class="anchor" aria-label="anchor" href="#translation"></a>
</h3>
<p>Since we are working exclusively in R, translation refers to the process of creating R objects from instrument log files. <code>PhotoGEA</code> currently includes two core functions related to translation:</p>
<ul>
<li>
<code>read_licor_file</code>: Creates an R data object from a Microsoft Excel file created by a Licor LI-6800 portable gas exchange measurement system.</li>
<li>
<code>read_tdl_file</code>: Creates an R data object from a data file created by a tunable diode laser measurement system.</li>
</ul>
<p>Both of these functions produce “extended data frame” (<code>exdf</code>) objects in R. The <code>exdf</code> class is very similar to a regular data frame, with the main difference being that an <code>exdf</code> object keeps track of the units associated with each column. This data structure provides several key benefits when analyzing gas exchange data, and more information is available in the <a href="working_with_extended_data_frames.html">Working with Extended Data Frames</a> vignette.</p>
<p>It is often the case that a full data set is spread across multiple files. Because of this, translating data into R often involves combining multiple <code>exdf</code> objects (one from each file) together into one object that holds all of the data. To help with this, the <code>PhotoGEA</code> package provides several functions that can be used to select files via dialog windows:</p>
<ul>
<li><code>choose_input_files</code></li>
<li>
<code>choose_input_licor_files</code> (only available on Microsoft Windows)</li>
<li>
<code>choose_input_tdl_files</code> (only available on Microsoft Windows)</li>
</ul>
<p>It also provides the <code>identify_common_columns</code> function, which can be used along with <code>rbind</code> to easily combine a set of <code>exdf</code> objects. This operation is described in the <em>Combining Data From Several Files</em> section of the <a href="working_with_extended_data_frames.html#combining-data-from-several-files">Working with Extended Data Frames</a> vignette.</p>
<p>The process of translation “sets the stage” for the validation, processing, and synthesis steps in the sense that it determines the structure of the data. In other words, because these translation functions produce <code>exdf</code> objects, many of the other functions used in the remaining data analysis steps are also designed to work with <code>exdf</code> objects.</p>
</div>
<div class="section level3">
<h3 id="validation">Validation<a class="anchor" aria-label="anchor" href="#validation"></a>
</h3>
<p>There is a phrase that originated in computer science but applies to many human endeavors, including data analysis: “Garbage in, garbage out.” In this context we can understand it to mean that any processing or synthesis we apply to our data will produce meaningless results if the data itself does not meet certain requirements for quality and consistency.</p>
<p>As an example, we will try fitting a straight line to a set of curved data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate some data using a cubic function</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">10</span>, length.out <span class="op">=</span> <span class="fl">21</span><span class="op">)</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">X</span> <span class="op">-</span> <span class="fl">3</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">X</span> <span class="op">-</span> <span class="fl">5</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">X</span> <span class="op">-</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fit a linear model to the data</span></span>
<span><span class="va">linear_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the fit results</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span></span>
<span>  <span class="va">linear_fit</span><span class="op">$</span><span class="va">fitted.values</span> <span class="op">+</span> <span class="va">linear_fit</span><span class="op">$</span><span class="va">model</span><span class="op">$</span><span class="va">Y</span> <span class="op">~</span> <span class="va">linear_fit</span><span class="op">$</span><span class="va">model</span><span class="op">$</span><span class="va">X</span>,</span>
<span>  type <span class="op">=</span> <span class="st">'b'</span>,</span>
<span>  pch <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  auto <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  grid <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="developing_a_data_analysis_pipeline_files/figure-html/unnamed-chunk-2-1.png" width="384" style="display: block; margin: auto;"></p>
<p>In this case, the fitting procedure does not report any errors, and it even returns a fairly high value of R<sup>2</sup> (0.7540145), but it is clear that a linear model is not applicable to this data. In other words, this is a case of “garbage in,” and we have produced a set of “garbage out.”</p>
<p>The goal of data validation is to ensure that any subsequent processing is appropriate; in other words, to avoid a “garbage in” scenario. Validation often consists of three parts:</p>
<ol style="list-style-type: decimal">
<li>Ensuring that the data set is properly organized into subsets (if applicable).</li>
<li>Identifying any problematic points in the data set.</li>
<li>“Cleaning” the data set by removing those points.</li>
</ol>
<p>There are many ways to validate data, and methods can broadly be categorized as automated vs. manual and objective vs. subjective. Here are a few examples:</p>
<ul>
<li>Plotting the raw data to locate abnormal points is an example of a manual and subjective form of validation, since it requires you to visually take a look.</li>
<li>Removing points from the raw data where the Li-6800’s stability criteria were not met is an example of automated and objective validation, since it can proceed without any judegement from a human.</li>
</ul>
<p>Typically, best results are achieved using a mix of multiple forms of validation. The <code>PhotoGEA</code> package includes several functions to help with data validation:</p>
<ul>
<li>
<code>check_licor_data</code>: If a data set represents multiple “response curves” measured by a Licor, this function can be used to make sure that each response curve can be properly located and that all curves follow the same sequence of “driving” variable values.</li>
<li>
<code>organize_response_curve_data</code>: Again, if a data set represents multiple “response curves” measured by a Licor, this function can be used to remove certain points from each curve and to reorder the data in a convenient way for plotting.</li>
<li>
<code>identify_tdl_cycles</code>: If a data set represents measurements from a tunable diode laser, this function can be used to identify complete cycles within the data as the gas handling system periodically measures gas from multiple lines.</li>
<li>
<code>remove_points</code>: This function simplifies the process of removing individual points or even entire response curves from a data set if they are found to be unreliable.</li>
<li>
<code>exclude_outliers</code>: This function can be used to remove points where measurement conditions are unusual; for example, if a leaf temperature value recorded by a Li-6800 is significantly different from the recorded temperatures for the other points in a response curve.</li>
</ul>
<p>In addition to these functions, there are more basic operations for subsetting and plotting that can be used to help with validation; see the <a href="working_with_extended_data_frames.html">Working with Extended Data Frames</a> vignette for more details about subsetting and plotting data from <code>exdf</code> objects.</p>
</div>
<div class="section level3">
<h3 id="processing">Processing<a class="anchor" aria-label="anchor" href="#processing"></a>
</h3>
<p>In the processing step, new information is extracted from the raw data in the data set. The <code>PhotoGEA</code> package includes many functions that are specialized for processing photosynthetic gas exchange data. Broadly, they fall into two types:</p>
<ul>
<li>Functions that calculate the values of new variables from the values of ones already included in the data set.</li>
<li>Functions that apply a fitting procedure to single response curves within the full data set.</li>
</ul>
<p>In general, the “processing” step will require several of these functions, and will depend strongly on the type of measurements that were made; for example, A-Ci curves measured from C<sub>3</sub> plants will require a different type of processing than A-Ci curves measured from C<sub>4</sub> plants.</p>
<p>All of these functions are designed to be applied to <code>exdf</code> objects. In this case, <code>exdf</code> objects provide a large advantage over regular data frames because they include information about units; in fact, all of these functions will check the units of any required variables before proceeding to make sure the results are correct.</p>
<div class="section level4">
<h4 id="functions-for-calculating-new-variable-values">Functions for Calculating New Variable Values<a class="anchor" aria-label="anchor" href="#functions-for-calculating-new-variable-values"></a>
</h4>
<p>The <code>PhotoGEA</code> package includes the following functions for calculating the values of new variables from the values of variables that already exist in the data set:</p>
<ul>
<li>
<code>calculate_gas_properties</code>: Calculates gas properties that are not included in the default Licor log files, such as the H<sub>2</sub>O concentration at the leaf surface and the stomatal conductance to CO<sub>2</sub>.</li>
<li>
<code>calculate_ball_berry_index</code>: Calculates the Ball-Berry index from values of net assimilation, relative humidity at the leaf surface, and CO<sub>2</sub> concentration at the leaf surface.</li>
</ul>
<p>(This list is not exhaustive; instead, it only includes functions for which documentation has been written.)</p>
<p>These functions generally treat each row in an <code>exdf</code> object as an independent observation, and so they can be applied to objects that include data from many plants or response curves.</p>
</div>
<div class="section level4">
<h4 id="functions-for-fitting-response-curves">Functions for Fitting Response Curves<a class="anchor" aria-label="anchor" href="#functions-for-fitting-response-curves"></a>
</h4>
<p>The <code>PhotoGEA</code> package includes the following functions for fitting individual response curves:</p>
<ul>
<li>
<code>fit_ball_berry</code>: Calculates a linear fit of stomatal conductance to H<sub>2</sub>O vs. the Ball-Berry index.</li>
<li>
<code>fit_c3_aci</code>: Calculates a nonlinear fit of net CO2 assimilation vs. chloroplastic CO<sub>2</sub> concentration.</li>
</ul>
<p>(This list is not exhaustive; instead, it only includes functions for which documentation has been written.)</p>
<p>These functions generally assume that the input <code>exdf</code> object represents a single response curve, and they return both the optimized parameter values and the fitted values of the measured varaibles; for example, <code>fit_ball_berry</code> performs the fit on a single Ball-Berry curve and returns the Ball-Berry intercept, the Ball-Berry slope, and the fitted values of stomatal conductance.</p>
<p>These functions cannot be applied directly to an <code>exdf</code> object that contains a full set of multiple response curves, because they assume that their input is a single response curve. However, they can be used in conjunction with the <code>by</code> and <code>consolidate</code> functions to automatically split a large <code>exdf</code> into individual curves, apply the fitting function to each curve, and combine the results from each fit; see the <em>Processing Multiple Pieces of an Extended Data Frame</em> section of the <a href="working_with_extended_data_frames.html#processing-multiple-pieces-of-an-extended-data-frame">Working with Extended Data Frames</a> vignette for more details about doing this.</p>
</div>
</div>
<div class="section level3">
<h3 id="synthesis">Synthesis<a class="anchor" aria-label="anchor" href="#synthesis"></a>
</h3>
<p>In the synthesis step, statistical operations are used to draw conclusions about the data, and visualizations are generated to make them easier to understand. The <code>PhotoGEA</code> package includes a few tools for basic operations:</p>
<ul>
<li>
<code>exclude_outliers</code>: This function splits an <code>exdf</code> object into subsets according to the values of one or more identifier columns, determines any rows in each subset where the value of a certain column is an outlier, and removes those rows. For example, this function could be used to “clean” the output from a Ball-Berry fitting procedure by excluding curves from each species where the Ball-Berry slope is an outlier.</li>
<li>
<code>basic_stats</code>: This function splits an <code>exdf</code> object into subsets according to the values of one or more identifier columns, and then calculates the mean and standard deviation for each applicable column in the object. For example, this function could be used to calculate the average value of the Ball-Berry slope and intercept for each species present in a data set.</li>
<li>
<code>barchart_with_errorbars</code>: This function can be used to create a barchart where the height of each bar is the average value from a set of measurements and the error bars are determined from the standard error.</li>
<li>
<code>xyplot_avg_rc</code>: This function can be used to plot average response curves created by averaging individual curves measured from multiple plants.</li>
</ul>
<p>More complex statistical operations can be performed with functions from other R packages such as <code>onewaytests</code> or <code>DescTools</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="creating-data-analysis-scripts">Creating Data Analysis Scripts<a class="anchor" aria-label="anchor" href="#creating-data-analysis-scripts"></a>
</h2>
<p>An R script is essentially just a collection of R commands stored in a plain-text document, usually with a <code>.R</code> extension. The commands in the script can be copied and pasted into the R terminal to run the code, or the code can be executed automatically using the <code>source</code> function. Writing scripts can save a lot of time by making code more reusable, and it can serve as a record of the exact steps you used while analyzing your data.</p>
<p>The <code>PhotoGEA</code> package includes several vignettes that go through detailed examples of data analysis, and the end of each of these vignettes includes a collection of all the code used in the vignette. This code is designed to be the start of a script. You are encouraged to copy it and make any necessary modifications that might be required to apply it to your own data. This is a great way to get started with analyzing data in R.</p>
<p>In general, there are two types of scripts that you might consider making:</p>
<ul>
<li>General-purpose scripts that can apply to many different data sets.</li>
<li>Narrow scripts that only apply to one particular data set.</li>
</ul>
<div class="section level3">
<h3 id="general-purpose-scripts">General-Purpose Scripts<a class="anchor" aria-label="anchor" href="#general-purpose-scripts"></a>
</h3>
<p>A general-purpose script would be a script that is designed to apply to a particular type of data (for example, C<sub>3</sub> CO<sub>2</sub> response curves) but not a particular set of data.</p>
<ul>
<li>This kind of script would only include minimal data validation because the process of “cleaning” the data is often specific to a particular data set.</li>
<li>This kind of script would avoid hard-coding any particular file names; instead, it would make use of the <code>choose_input_files</code>, <code>choose_input_licor_files</code>, and <code>choose_input_tdl_files</code> functions so that it can be flexibly applied to different groups of data files.</li>
</ul>
<p>The main reason to use a script like this would be to take a quick first look at a new set of data. If your script is well-written and you always include the same “identifying” user constants in your Licor files (e.g. <code>species</code>, <code>event</code>, <code>replicate</code>, etc), then it should be possible to do a basic investigation of your data in just a few minutes.</p>
<p>As you begin to analyze different types of data, you may develop a collection of general purpose scripts. It is recommended to store this in a dedicated directory that does not include any data files.</p>
</div>
<div class="section level3">
<h3 id="narrow-scripts">Narrow Scripts<a class="anchor" aria-label="anchor" href="#narrow-scripts"></a>
</h3>
<p>A narrow script would be designed to apply to a particular set of data.</p>
<ul>
<li>This kind of script would include data cleaning steps that only apply to one set of data.</li>
<li>This kind of script would use hard-coded file names to clarify which files it should be used with, and it would typically be stored in the same directory as its corresponding data files.</li>
</ul>
<p>Often, a narrow script can be formed by copying a general-purpose script and then modifying it to hard-code file names and include data cleaning steps.</p>
<p>The main reason to use a script like this would be to create a reproducible record of the exact steps you took to analyze the data. This way, you will never forget what you did. If you need to make a change to the analysis, it will be simple to just modify part of this script. Trust me: this will save a lot of time for your future self.</p>
<p>In addition to saving your time, this kind of script will let you easily share your analysis with other researchers. In fact, a dedicated analysis script that specifies the versions of each package it uses can later be included with your data when you publish, making it simple to fulfill the requirements for “open science.” There is a great deal of research showing that papers with easily reproducible analysis (facilitated by the availability of data and scripts) is cited more often. For example, see the following:</p>
<ul>
<li><span class="citation">Piwowar, Day, and Fridsma (<a href="#ref-piwowar_sharing_2007" role="doc-biblioref">2007</a>)</span></li>
<li><span class="citation">Bueno de Mesquita et al. (<a href="#ref-bueno_de_mesquita_symposium_2003" role="doc-biblioref">2003</a>)</span></li>
<li><span class="citation">Dorch, Drachen, and Ellegaard (<a href="#ref-dorch_data_2015" role="doc-biblioref">2015</a>)</span></li>
<li><span class="citation">Henneken and Accomazzi (<a href="#ref-henneken_linking_2011" role="doc-biblioref">2011</a>)</span></li>
<li><span class="citation">Popkin (<a href="#ref-popkin_data_2019" role="doc-biblioref">2019</a>)</span></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-bueno_de_mesquita_symposium_2003" class="csl-entry">
Bueno de Mesquita, Bruce, Nils Petter Gleditsch, Patrick James, Gary King, Claire Metelits, James Lee Ray, Bruce Russett, Håvard Strand, and Brandon Valeriano. 2003. <span>“Symposium on <span>Replication</span> in <span>International</span> <span>Studies</span> <span>Research</span>.”</span> <em>International Studies Perspectives</em> 4 (1): 72–107. <a href="https://doi.org/10.1111/1528-3577.04105" class="external-link">https://doi.org/10.1111/1528-3577.04105</a>.
</div>
<div id="ref-dorch_data_2015" class="csl-entry">
Dorch, S. B. F., T. M. Drachen, and O. Ellegaard. 2015. <span>“The Data Sharing Advantage in Astrophysics.”</span> arXiv. <a href="https://arxiv.org/abs/1511.02512" class="external-link">https://arxiv.org/abs/1511.02512</a>.
</div>
<div id="ref-henneken_linking_2011" class="csl-entry">
Henneken, Edwin A., and Alberto Accomazzi. 2011. <span>“Linking to <span>Data</span> - <span>Effect</span> on <span>Citation</span> <span>Rates</span> in <span>Astronomy</span>.”</span> arXiv. <a href="https://arxiv.org/abs/1111.3618" class="external-link">https://arxiv.org/abs/1111.3618</a>.
</div>
<div id="ref-piwowar_sharing_2007" class="csl-entry">
Piwowar, Heather A., Roger S. Day, and Douglas B. Fridsma. 2007. <span>“Sharing <span>Detailed</span> <span>Research</span> <span>Data</span> <span>Is</span> <span>Associated</span> with <span>Increased</span> <span>Citation</span> <span>Rate</span>.”</span> <em>PLOS ONE</em> 2 (3): e308. <a href="https://doi.org/10.1371/journal.pone.0000308" class="external-link">https://doi.org/10.1371/journal.pone.0000308</a>.
</div>
<div id="ref-popkin_data_2019" class="csl-entry">
Popkin, Gabriel. 2019. <span>“Data Sharing and How It Can Benefit Your Scientific Career.”</span> <em>Nature</em> 569 (7756): 445–47. <a href="https://doi.org/10.1038/d41586-019-01506-x" class="external-link">https://doi.org/10.1038/d41586-019-01506-x</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edward B. Lochocki.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
